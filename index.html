<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <style>
        body, html { margin: 0; padding: 0; width: 1920px; height: 1080px; overflow: hidden; background: transparent; font-family: 'Arial Black', sans-serif; }

        .breaking-container {
            width: 100%; height: 100%;
            background: radial-gradient(circle, #ff0000 0%, #660000 100%);
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            border: 15px solid #ffcc00; box-sizing: border-box;
            animation: pulse-bg 2s infinite alternate;
        }

        @keyframes pulse-bg {
            0% { box-shadow: inset 0 0 50px #000; }
            100% { box-shadow: inset 0 0 150px #000; }
        }

        .header {
            font-size: 130px; color: #fff; text-shadow: 5px 5px 20px #000;
            letter-spacing: 10px; margin-bottom: 50px;
            animation: bounceIn 1s infinite alternate;
        }

        @keyframes bounceIn {
            from { transform: scale(0.95); }
            to { transform: scale(1.05); }
        }

        .news-box {
            width: 85%; background: white; padding: 50px;
            border-radius: 20px; box-shadow: 0 20px 50px rgba(0,0,0,0.8);
            transform: skewX(-3deg); border-left: 25px solid #ffcc00;
            min-height: 200px; display: flex; align-items: center; justify-content: center;
        }

        .news-text {
            font-size: 65px; color: #cc0000; text-align: center;
            margin: 0; line-height: 1.3; font-weight: bold;
        }

        .flash-tag {
            background: #ffcc00; color: black; padding: 15px 50px;
            font-size: 40px; position: absolute; top: 60px; left: 0;
            font-weight: bold; box-shadow: 5px 5px 15px rgba(0,0,0,0.5);
        }
    </style>
</head>
<body>

<div class="breaking-container">
    <div class="flash-tag">बड़ी खबर</div>
    <div class="header">BREAKING NEWS</div>
    <div class="news-box">
        <p class="news-text" id="headline">खबरें लोड हो रही हैं...</p>
    </div>
</div>

<audio id="bgMusic" loop>
    <source src="https://www.soundjay.com/free-music/sounds/action-movie-trailer-01.mp3" type="audio/mpeg">
</audio>

<script>
    let newsList = [];
    let currentIndex = 0;
    const bgMusic = document.getElementById('bgMusic');

    async function fetchNews() {
        const rssUrl = "https://www.bhaskar.com/rss-v1--category-1061.xml"; 
        const apiUrl = `https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(rssUrl)}`;

        try {
            const response = await fetch(apiUrl);
            const data = await response.json();
            if (data.status === 'ok') {
                newsList = data.items;
                showNextNews();
            }
        } catch (e) { console.log("RSS Error"); }
    }

    function showNextNews() {
        if (newsList.length === 0) return;

        const headlineElement = document.getElementById('headline');
        const currentTitle = newsList[currentIndex].title;

        // Display news
        headlineElement.innerText = currentTitle;
        
        // AI Voice
        speakNews(currentTitle);

        // Move to next news or reset
        currentIndex = (currentIndex + 1) % newsList.length;

        // Wait for 15 seconds before next news
        setTimeout(showNextNews, 15000);
    }

    function speakNews(text) {
        window.speechSynthesis.cancel(); // Stop current speech
        const msg = new SpeechSynthesisUtterance();
        msg.text = "ब्रेकिंग न्यूज़... " + text;
        msg.lang = 'hi-IN';
        msg.rate = 0.8;
        window.speechSynthesis.speak(msg);
    }

    // Start Everything on Click (Required by Browsers)
    window.onclick = () => {
        bgMusic.play();
        fetchNews();
        // Hide message
        console.log("Started");
    };

    // Auto Refresh list every 10 minutes
    setInterval(fetchNews, 600000);
</script>

</body>
</html>
